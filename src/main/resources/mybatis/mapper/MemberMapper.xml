<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.maum.my.dao.IMemberDAO">

    <!-- 회원가입 -->
    <insert id="insertMember" parameterType="com.maum.my.vo.MemberVO">
       INSERT INTO MEMBER (MEM_ID, MEM_PASS, MEM_NAME, MEM_BIR, MEM_HP, MEM_MAIL, PROFILE_IMG)
        VALUES (#{memId}, #{memPass}, #{memName}, #{memBir}, #{memHp}, #{memMail}, #{profileImg})
    </insert>

<!-- 아이디로 회원 조회 -->
    <select id="selectMemberById" parameterType="string" resultType="com.maum.my.vo.MemberVO">
        SELECT MEM_ID as memId,
               MEM_PASS as memPass,
               MEM_NAME as memName,
               MEM_BIR as memBir,
               MEM_HP as memHp,
               MEM_MAIL as memMail,
               PROFILE_IMG as profileImg
        FROM MEMBER
        WHERE MEM_ID = #{memId}
    </select>

    <!-- 프로필 이미지 업데이트 -->
    <update id="updateProfileImg" parameterType="com.maum.my.vo.MemberVO">
        UPDATE MEMBER
        SET PROFILE_IMG = #{profileImg}
        WHERE MEM_ID = #{memId}
    </update>

    <!-- 회원정보 수정 -->
    <update id="updateMember" parameterType="com.maum.my.vo.MemberVO">
        UPDATE MEMBER
        SET MEM_NAME = #{memName},
            MEM_MAIL = #{memMail},
            MEM_HP   = #{memHp}
        WHERE MEM_ID = #{memId}
    </update>

</mapper>
